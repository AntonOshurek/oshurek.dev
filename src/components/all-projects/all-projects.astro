---
import { getCollection } from 'astro:content';
//STYLES
import './all-projects.scss';
//COMPONENTS
import ProjectPreview from '../project-preview/project-preview.astro';
import ProjectItems from '../project-items/project-items.astro';
//UTILS
import { sortProjectsByDate } from '../../utils/utils';

const defaultProjects = await getCollection('projects');
const projects = sortProjectsByDate(defaultProjects);
---

<div class="all-projects container-medium">
	<h2 class="all-projects__title">Projects</h2>

	<ProjectItems>
		{
			projects.map((project) => {
				return <ProjectPreview project={project} />;
			})
		}
	</ProjectItems>
</div>
